<html><head><meta http-equiv=Content-Type content='text/html; charset=utf-8'></head>


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head id="Head1"><title>
	对话框登录
</title><link href="../css/fonts/font-awesome.css-v=10.css" tppabs="http://www.hougelou.com/css/fonts/font-awesome.css?v=10" rel="stylesheet" type="text/css" />
    <style type="text/css">
        ::-webkit-input-placeholder
        {
            color: #dad9d9;
        }
        :-moz-placeholder
        {
            color: #dad9d9;
        }
        ::-moz-placeholder
        {
            color: #dad9d9;
        }
        :-ms-input-placeholder
        {
            color: #dad9d9;
        }
        .box::after
        {
            content: ".";
            display: block;
            clear: both;
            font-size: 0;
            height: 0;
            line-height: 0;
            visibility: hidden;
            overflow: hidden;
        }
        body
        {
            font-family: "Segoe UI" , "Lucida Grande" ,Helvetica,Arial, "Microsoft YaHei" ,FreeSans,Arimo, "Droid Sans" , "wenquanyi micro hei" , "Hiragino Sans GB" , "Hiragino Sans GB W3" ,FontAwesome,sans-serif;
            font-size: 14px;
        }
        .login_title
        {
            font-size: 18px;
            margin-bottom: 20px;
        }
        a
        {
            text-decoration: none;
            color: #FF9800;
            font-size: 14px;
        }
        .login_title a
        {
            float: right;
        }
        .winlogin {
    padding: 25px 30px;
    height: 480px;
    width: 330px;
}
        fieldset
        {
            border: 0px;
            padding: 0px;
        }
        .formbox .ipt
        {
            width: 298px;
            border: #b5b5b5 1px solid;
            border-radius: 0px;
            padding: 16px 14px;
            font-size: 14px;
            color: #333;
            font-family: "lucida grande" , "lucida sans unicode" , lucida, helvetica, "Hiragino Sans GB" , "Microsoft YaHei" , "WenQuanYi Micro Hei" , sans-serif;
        }
        .formbox .iptSmall
        {
            width: 106px;
            float: left;
        }
        .winlogin .btn
        {
            display: inline-block;
            margin-top: 20px;
            zoom: 1;
            color: white;
            background-color: #000;
            border-radius: 6px;
            outline: none;
            cursor: pointer;
            border: none;
            height: 54px;
            line-height: 54px;
            width: 326px;
            opacity: 1;
            -webkit-transition-property: opacity;
            transition-property: opacity;
            -webkit-transition-duration: .5s;
            transition-duration: .5s;
            -webkit-transition-timing-function: cubic-bezier(.215,.61,.355,1);
            transition-timing-function: cubic-bezier(.215,.61,.355,1);
        }
        .winlogin .btn:hover
        {
            opacity: .65;
        }
        .winlogin .btn span
        {
            display: block;
            text-decoration: none;
            font-size: 18px;
            -webkit-transition-property: -webkit-transform;
            transition-property: -webkit-transform;
            transition-property: transform;
            transition-property: transform,-webkit-transform;
            -webkit-transition-duration: .5s;
            transition-duration: .5s;
            transition-timing-function: cubic-bezier(.215,.61,.355,1);
            -webkit-transform: translateX(0);
            -ms-transform: translateX(0);
            transform: translateX(0);
        }
        .winlogin .btn:hover span
        {
            -webkit-transform: translateX(10px);
            -ms-transform: translateX(10px);
            transform: translateX(10px);
        }
        .ipass
        {
            cursor: pointer;
            position: absolute;
            left: 300px;
            top: 20px;
        }
        #divMsg
        {
            color: #FFA523;
            font-size: 12px;
        }
        #validatecode
        {
            margin-bottom: -12px;
        }
        .login_SinaWeiBo
        {
            display: block;
            float: left;
            color: #ff5722;
            font-size: 20px;
        }
        .login_QQ
        {
            display: block;
            float: left;
            margin-left: 16px;
            color: #ff5722;
            font-size: 16px;
            padding-top: 2px;
        }
        input:focus
        {
            outline: none;
        }
        #RememberMe
        {
            cursor: pointer;
            float: left;
            color: grey;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        #RememberMei
        {
            margin-right: 5px;
        }
        .grey
        {
            color: grey;
        }
        .grey:hover
        {
            color: #FF9800;
        }
    </style>
</head>
<body>
    <input type="hidden" id="GoURL" value='' />

    <div class="winlogin">
        <div class="formbox">
            <fieldset>
        <form class="loginwin" id="login_form" name="login_form" onsubmit="return false">
        <div class="login_title">
            账号登录
        </div>
        <div class="box">
            <input id="txtEmail" type="text" class="ipt" name="txtLoginName" placeholder="邮箱">
        </div>
        <div class="box" style="margin: 20px 0px; position: relative;">
            <input type="text" id="txtPass1" name="txtPass1" class="ipt" style="display: none;
                padding-right: 48px; width: 264px;" placeholder="密码" />
            <input type="password" id="txtPass" name="txtPass" class="ipt" style="padding-right: 48px;
                width: 264px;" placeholder="密码" />
            <i class="fa fa-eye ipass" title="显示密码" style="color: #BBBBBB; display: none;"></i>
        </div>
        <p class="inputs box">
            <input id="txtValidateCode" type="text" class="ipt iptSmall" name="txtValidateCode"
                maxlength="4" placeholder="验证码">
            <span style="float: left; margin-left: 10px;">
                <script type="text/javascript" language="JavaScript">
                    var numkey = Math.random();
                    numkey = Math.round(numkey * 10000);
                    document.write("<img id='validatecode' style='width:85px;height:47px;cursor:pointer;float:left;' src=\"/common/imagecode.aspx?bgcolor=%23FFFFFF&fontcolor=%23131212&weight=20&h=47&w=85&k=" + numkey + "\" onClick=\"this.src+=Math.random()\" title=\"图片看不清？点击重新得到验证码\" style=\"cursor:pointer;\" hspace=\"4\" />");
                </script>
            </span>
        </p>
        <p class="inputs" id="divMsg">
        </p>
        <p class="mb30">
            <button type="submit" id="btnLogin" class="btn">
                <span>登录</span></button>
        </p>
        <p class="inputs box" style="font-size: 14px;">
            <label id="RememberMe" for="RememberMei">
                <i id="RememberMei" class="fa fa-toggle-on" style="color: #FF9800;"></i>记住我
            </label>
            <a href="../find.htm" tppabs="http://www.hougelou.com/find" class="grey" style="float: right;" target="_parent">忘记账号&nbsp;/&nbsp;密码</a>
            <a href="../register.htm" tppabs="http://www.hougelou.com/register" class="grey" style="float: right; margin-right: 14px;" target="_parent">
                注册</a>
        </p>
        <div class="inputs box" style="margin-bottom: 25px; margin-top: 22px; color: Gray;">
            <div style="margin-bottom: 10px;">
                其他方式</div>
            <div class="box">
                <a href="javascript:if(confirm(%27https://api.weibo.com/oauth2/authorize?response_type=code&client_id=773871849&redirect_uri=http%3a%2f%2fwww.hougelou.com%2fuser%2fLoginCallBack.aspx&state=SinaWeiBo  \n\nThis file was not retrieved by Teleport Pro, because it is addressed using an unsupported protocol (e.g., gopher).  \n\nDo you want to open it from the server?%27))window.location=%27https://api.weibo.com/oauth2/authorize?response_type=code&client_id=773871849&redirect_uri=http%3a%2f%2fwww.hougelou.com%2fuser%2fLoginCallBack.aspx&state=SinaWeiBo%27" tppabs="http://www.hougelou.com/user/oauth/SinaWeiBo" class="login_SinaWeiBo" title="使用新浪微博登录" target="_parent">
                    <i class="fa fa-weibo"></i></a><a href="javascript:if(confirm(%27https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=100354874&redirect_uri=http%3a%2f%2fwww.hougelou.com%2fuser%2fLoginCallBack.aspx&state=QQ  \n\nThis file was not retrieved by Teleport Pro, because it is addressed using an unsupported protocol (e.g., gopher).  \n\nDo you want to open it from the server?%27))window.location=%27https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=100354874&redirect_uri=http%3a%2f%2fwww.hougelou.com%2fuser%2fLoginCallBack.aspx&state=QQ%27" tppabs="http://www.hougelou.com/user/oauth/QQ" class="login_QQ" title="使用QQ登录"
                        target="_parent"><i class="fa fa-qq"></i></a>
            </div>
        </div>
        </form>
        </fieldset>
        </div>
    </div>
    <script src="../js/jquery-1.7.2.min.js-v=10.js" tppabs="http://www.hougelou.com/js/jquery-1.7.2.min.js?v=10" type="text/javascript"></script>
    <script src="../js/jQuery.md5.js" tppabs="http://www.hougelou.com/js/jQuery.md5.js" type="text/javascript"></script>
    <script src="../js/jquery.cookie.js-v=10.js" tppabs="http://www.hougelou.com/js/jquery.cookie.js?v=10" type="text/javascript"></script>
    <script type="text/javascript">
        //验证
        function submitValidate() {
            $("#divMsg").html("");
            if ($("#txtEmail").val() == "") {
                $("#divMsg").html("请输入账号");
                $("#txtEmail").focus();
                return false;
            }

            if ($("#txtPass").val() == "") {
                $("#divMsg").html("请输入密码");
                $("#txtPass").focus();
                return false;
            }

            if ($("#txtValidateCode").val() == "") {
                $("#divMsg").html("请输入验证码");
                $("#txtValidateCode").focus();
                return false;
            }

            return true;
        }

        //验证验证码
        function FormSubmit() {
            $.ajax({
                type: "post",
                url: "http://www.hougelou.com/Service/common.ashx",
                data: {
                    "key": "ValidateCodeJS",
                    "code": $("#txtValidateCode").val()
                },
                success: function (e) {
                    var data = eval("(" + e + ")");
                    if (data.result == 1) {
                        login();
                    } else {
                        $("#divMsg").html(data.msg);
                        return false;
                    }
                }
            });
        }

        $(function () {
            //获得记住的email
            if ($.cookie("hougelou_useremail") != null) {
                $("#txtLoginName").val($.cookie("hougelou_useremail"));
            }

            //记住密码切换
            $("#RememberMe").toggle(function () {
                $("#RememberMei").attr("class", "fa fa-toggle-off").css("color", "#212121");
            }, function () {
                $("#RememberMei").attr("class", "fa fa-toggle-on").css("color", "#FF9800");
            });


            //当有密码的时候才显示切换图标
            $("#txtPass1,#txtPass").keyup(function () {
                if ($.trim($(this).val()) != "") {
                    $(".ipass").show();
                } else {
                    $(".ipass").hide();
                }
            });

            //密码可视切换
            $(".ipass").toggle(function () {
                $("#txtPass").attr("name", "txtPass2").attr("id", "txtPass2");
                $("#txtPass1").attr("name", "txtPass").attr("id", "txtPass").show().val($("#txtPass2").val());
                $("#txtPass2").attr("name", "txtPass1").attr("id", "txtPass1").hide();
                $(this).css("color", "#FF5722").attr("title", "隐藏密码");
            }, function () {
                $("#txtPass").attr("name", "txtPass2").attr("id", "txtPass2");
                $("#txtPass1").attr("name", "txtPass").attr("id", "txtPass").show().val($("#txtPass2").val());
                $("#txtPass2").attr("name", "txtPass1").attr("id", "txtPass1").hide();
                $(this).css("color", "#BBBBBB").attr("title", "显示密码");
            });

            //提交
            $("#btnLogin").click(function () {
                if (submitValidate()) {
                    FormSubmit();
                }
            });
        });

        function login() {
            $.ajax({
                type: "post",
                url: "http://www.hougelou.com/Service/User/user.ashx",
                data: {
                    "key": "Login",
                    "email": $("#txtEmail").val(),
                    "pass": $.md5($("#txtPass").val()),
                    "code": $("#txtValidateCode").val()
                },
                beforeSend: function () {
                    $("#btnLogin span").text("正在登录…");
                },
                complete: function () {
                    $("#btnLogin span").text("登录");
                },
                success: function (e) {
                    if (e == "1") {
                        if ($("#RememberMei").hasClass("fa-toggle-on")) {
                            $.cookie("hougelou_useremail", $("#txtEmail").val(), { expires: 60 }); //记住email
                        } else {
                            $.cookie('hougelou_useremail', null); //移除
                        }

                        var url = $("#GoURL").val();
                        if (url != "") {
                            window.parent.location.href = url;
                        }
                    } else if (e == "-3") {
                        $("#divMsg").html("验证码错误");
                    } else if (e == "-2") {
                        $("#divMsg").html("抱歉，你的账号被冻结，不能登录");
                    } else if (e == "-1") {
                        $("#divMsg").html("抱歉，你的账号未激活。<br>请重新用此账号注册，然后激活即可使用。");
                    } else {
                        $("#divMsg").html("邮箱或密码不正确");
                    }
                    $("#validatecode").attr("src", $("#validatecode").attr("src") + Math.random());
                }
            });
        }
    </script>
</body>
</html>
